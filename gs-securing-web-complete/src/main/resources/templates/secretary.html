<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>

        <link rel="stylesheet" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
		<link rel="stylesheet" href="jquery/jquery-ui.css"/>
		<link rel="stylesheet" href="css/dataTables.bootstrap.css"/>
  		<script src="js/jquery-2.1.3.min.js"></script>
  		<script src="jquery/jquery-ui.js"></script>
  		<script src="js/bootstrap.min.js"></script>
  		<script charset="utf8" src="js/jquery.dataTables.js"></script>
		
  <script charset="utf8" src="js/dataTables.bootstrap.js"></script> 
        
        <link rel="stylesheet" type="text/css" href="css/style.css"/>

</head>

<body>
<div class="container">
	<div class="row clearfix">
		<div class="col-md-6 column">
			<h3 class="text-left text-primary" th:inline="text">
				Panel Logistyka: [[${#httpServletRequest.remoteUser}]]
			</h3>
		</div>
		
		<div class="col-md-6 column">
		<form th:action="@{/logout}" method="post">
            <input class="btn btn-danger" style="float:right; margin:3%" type="submit" value="Wyloguj"/>
        </form>
		</div>
	</div>
	
	
	        
<!-- ....................................... Kalendarz!!!........................................-->   
		<h4>Kliknij na kalendarz, aby zobaczyć swoje dni pracy
		<input type="hidden" id="datepicker" />
		</h4>
		<div id="datepicker-container">
				<div id="datepicker"></div>
		</div>
					<script th:inline="javascript">
					
					var SelectedDates = {};
					function refreshCalendarOfUser(username){
						$.get('/calendar_list', {username:username}, function(data){
							SelectedDates = {};
							$.each(data,function(i,value){
								SelectedDates[new Date(value + " 00:00:00")] = new Date(value + " 00:00:00");
							});
							$('#datepicker').datepicker("refresh");
						});
					}
					
						refreshCalendarOfUser(							[[${#httpServletRequest.remoteUser}]]						);
					
					$( "#datepicker" ).datepicker({
						buttonImage: 'kalendarz.png',
				        buttonImageOnly: true,
				        firstDay: 1, //poniedzialek to pierwszy dzien tygodnia,
				        dayNamesMin: ["Nd", "Pn", "Wt", "Śr", "Cz", "Pt", "So" ],
				        monthNames: [ "Styczeń", "Luty", "Marzec", "Kwiecień", "Maj", "Czerwiec", "Lipiec", "Sierpień", "Wrzesień", "Październik", "Listopad", "Grudzień" ],
				        showOn: 'both',
				        dateFormat: "yy-mm-dd",
						
						beforeShowDay: function(date) {
				            
							var Highlight = SelectedDates[date];
				            if (Highlight) {
				            	return [true, "Highlighted", 'Dzień wolny.'];
				            }
				            else {
				                return [true, '', ''];
				            }
						}
					});
			
					
					$(document).ready(function(){

						$.getJSON('/client_list', function(result){
							$.each(result, function(index,client){ 
								$('#clientsTable tbody').append('<tr class="warning" name="client-row"><td><input type="radio" name="client" value="'+client.numberPlate+'"></input></td><td>'+client.firstName+'</td><td>'+client.lastName+'</td><td>'+client.numberPlate+'</td></tr>')
							});
							$('#clientsTable').dataTable(
									{
										"sPaginationType": "simple",
								        "language": {
								            "lengthMenu": "Wyświetl _MENU_ wyników na każdej stronie",
								            "zeroRecords": "Brak rekordów",
								            "info": "Wyświetlam stronę _PAGE_ z _PAGES_",
								            "infoEmpty": "Brak rekordów",
								            "search": "Szukaj",
								            "infoFiltered": "(Dostępnych _MAX_ wszystkich rekordów)"
								        }});
						});
						
						$('tr[name=client-row]').click(function(row){
							$(this).find('input').prop('checked', true);
						});
					});
					
		</script>

<!--.......................................Sekcja zgłaszania usterek.......................................................-->  	
		<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<div class="tabbable" id="tabs-870073">
				<ul class="nav nav-tabs">
					<li class="active">
						<a href="#panel-493160" data-toggle="tab">Dodaj zlecenie</a>
					</li>
					<li>
						<a href="#panel-712304" data-toggle="tab">Wyszukaj zlecenie</a>
					</li>
				</ul>
				<div class="tab-content">
					<div class="tab-pane active" id="panel-493160">
					
					
					
					
					
<!--.......................................Wyszukiwarka klientów.......................................................--> 				
			<h3>
				Wyszukiwarka klientów
			</h3>	
					
					<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<table id="clientsTable" class="table table-hover">
				<thead>
					<tr>
						<th>
							
						</th>
						<th>
							Imię
						</th>
						<th>
							Nazwisko
						</th>
						<th>
							Numer rejestracyjny pojazdu
						</th>
					</tr>
				</thead>
				<tbody>
				</tbody>
			</table>
		</div>
	</div>
</div>				
				
<!--.......................................Dodawanie nowych użytkowników.......................................................-->  
	
	<a href="add_client" style="text-decoration: none"><button type="button" class="btn btn-success">Dodaj nowego użytkownika</button></a>

<!--..............................................Dodawanie zleceń...................................................-->


	<div class="row clearfix">
		<div class="col-md-12 column">
			<h3>
				Dodaj zadanie do wykonania.
			</h3>
			<form class="form-horizontal" role="form">
				<div class="form-group">
					 <label for="inputEmail3" class="col-sm-2 control-label">Nazwa</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" id="inputEmail3"/>
					</div>
				</div>
				<div class="form-group">
					 <label for="inputPassword3" class="col-sm-2 control-label">Opis</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" id="inputPassword3"/>
					</div>
				</div>
				
				<div class="form-group">
					 <label for="inputPassword3" class="col-sm-2 control-label">Klient</label>
					<div class="col-sm-4">
						<select class="form-control">
							<option>cli1</option>
							<option>cli2</option>
						</select>
					</div>
				</div>
				
				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-10">
						 <button type="submit" class="btn btn-default">Dodaj</button>
					</div>
				</div>
			</form>
		</div>
	</div>
	
						
					</div>
					
	
	<!--.......................................Sekcja wyszukiwarka..............................................................-->  
	<div class="tab-pane" id="panel-712304">
						
						
	<div class="row clearfix">
		<div class="col-md-12 column">
			<h3>
				Wyszukiwarka ogólna
			</h3>
			<div class="row clearfix">
				<div class="col-md-4 column">
					<div class="btn-group">
						 <button class="btn btn-default">Action</button> <button data-toggle="dropdown" class="btn btn-default dropdown-toggle"><span class="caret"></span></button>
						<ul class="dropdown-menu">
							<li>
								<a href="#">Action</a>
							</li>
							<li class="disabled">
								<a href="#">Another action</a>
							</li>
							<li class="divider">
							</li>
							<li>
								<a href="#">Something else here</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="col-md-4 column">
					<div class="btn-group">
						 <button class="btn btn-default">Action</button> <button data-toggle="dropdown" class="btn btn-default dropdown-toggle"><span class="caret"></span></button>
						<ul class="dropdown-menu">
							<li>
								<a href="#">Action</a>
							</li>
							<li class="disabled">
								<a href="#">Another action</a>
							</li>
							<li class="divider">
							</li>
							<li>
								<a href="#">Something else here</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="col-md-4 column">
					<div class="btn-group">
						 <button class="btn btn-default">Action</button> <button data-toggle="dropdown" class="btn btn-default dropdown-toggle"><span class="caret"></span></button>
						<ul class="dropdown-menu">
							<li>
								<a href="#">Action</a>
							</li>
							<li class="disabled">
								<a href="#">Another action</a>
							</li>
							<li class="divider">
							</li>
							<li>
								<a href="#">Something else here</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<table class="table">
				<thead>
					<tr>
						<th>
							#
						</th>
						<th>
							Product
						</th>
						<th>
							Payment Taken
						</th>
						<th>
							Status
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							1
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							01/04/2012
						</td>
						<td>
							Default
						</td>
					</tr>
					<tr class="active">
						<td>
							1
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							01/04/2012
						</td>
						<td>
							Approved
						</td>
					</tr>
					<tr class="success">
						<td>
							2
						</td>
						<td>
							TB - Monthly
						</td>
						<td>
							02/04/2012
						</td>
						<td>
							Declined
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

</div>


						


</body>
</html>


